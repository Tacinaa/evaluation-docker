ARG NODE_VERSION=18
FROM node:${NODE_VERSION}-alpine

WORKDIR /app

ENV APP_ENV=production
ENV PORT=3000

COPY package.json .
RUN npm install --omit=dev

COPY app.js .

EXPOSE 3000

CMD ["npm", "start"]